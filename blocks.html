<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>‚õìÔ∏è‚Äçüí• duku ‚Äî RC170 | STABILIZED_CORE</title>
<style>
:root {
  --bg: #000; --aqua: oklch(75% 0.12 210); --ice: oklch(85% 0.15 230);
  --leet: oklch(90% 0.4 100); --burn: oklch(55% 0.25 20); --quantum: oklch(70% 0.3 300);
}
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: "Courier New", monospace; }
body { background: var(--bg); color: #fff; height: 100dvh; overflow: hidden; display: flex; flex-direction: column; align-items: center; padding: 8px; touch-action: none; }
.ticker { width: 100%; border-bottom: 1px solid #222; padding: 4px; font-size: 7px; color: var(--aqua); white-space: nowrap; overflow: hidden; background: #080808; }
.ticker-scroll { display: inline-block; animation: scroll 45s linear infinite; }
@keyframes scroll { from { transform: translateX(100%); } to { transform: translateX(-100%); } }
.header { width: 100%; max-width: 380px; display: flex; justify-content: space-between; align-items: center; padding: 8px; border-bottom: 2px solid var(--leet); }
#yield { font-size: 28px; font-weight: 900; color: var(--leet); text-shadow: 0 0 15px var(--leet); }
.grid-container { width: 100%; max-width: 380px; aspect-ratio: 1/1; display: grid; grid-template-rows: repeat(3, 1fr); background: #0a0a0a; border-radius: 12px; padding: 4px; margin: 8px 0; border: 2px solid #222; }
.layer-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
.mini-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; background: #050505; }
.cell { background: #000; border: 1px solid #111; aspect-ratio: 1/1; }
.cell.filled { background: var(--ice); box-shadow: 0 0 10px var(--ice); }
.tray-container { width: 100%; max-width: 380px; display: flex; gap: 8px; margin-top: 10px; }
.tray { flex: 3; height: 100px; display: flex; justify-content: space-around; align-items: center; background: #0a0a0a; border-radius: 15px; border: 1px solid #222; }
.piece-slot { width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; padding: 30px; /* Grab Area Fix */ }
.gas-burn-btn { flex: 1; height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #111; border: 2px solid var(--burn); border-radius: 15px; color: var(--burn); font-weight: 900; font-size: 8px; cursor: pointer; }
.ignite-btn { width: 90%; padding: 22px; margin-top: auto; margin-bottom: 15px; border: 4px solid var(--leet); color: var(--leet); font-weight: 900; border-radius: 50px; background: transparent; letter-spacing: 12px; box-shadow: 0 0 25px var(--leet); cursor: pointer; }
.status-log { font-size: 7px; color: var(--aqua); margin-top: 4px; font-weight: 900; }
</style>
</head>
<body onload="init()">
<div class="ticker"><div class="ticker-scroll">‚õìÔ∏è‚Äçüí• duku: RC170 | STABILIZED_CORE | 963 Hz_RESONANCE | x31337_OVERDRIVE | ‚ù§Ô∏è‚Äçüî• 10% BURN | ID: voluntaryist.frostchain</div></div>
<div class="header">
  <div><div style="color:var(--aqua); font-size:9px;">ICE_CHAIN_CORE</div><div id="freq-tag" style="font-size:18px; color:var(--ice);">963 Hz</div></div>
  <div style="text-align:right;"><div style="font-size:7px; color:var(--leet);">GENESIS_YIELD</div><div id="yield">0.0000</div></div>
</div>
<div class="grid-container" id="main-grid">
  <div class="layer-row" id="L1"></div>
  <div class="layer-row" id="L2" style="border: 1.5px solid var(--ice);"></div>
  <div class="layer-row" id="L3"></div>
</div>
<div class="tray-container">
  <div class="tray" id="tray"></div>
  <div class="gas-burn-btn" onclick="gasBurn()">‚õΩ<br>SHUFFLE<br>+BURN</div>
</div>
<div class="status-log" id="log">STATUS: WAITING_FOR_963Hz_SYNC...</div>
<button class="ignite-btn" onclick="ignite()">IGNITE RC170</button>
<script>
let board = Array(81).fill(0), yieldVal = 0, active = false, audio = null, cells = [], dragging = null;
const shapes = [[[1,1,1]], [[1,1],[1,1]], [[1]], [[1,1,1,1]], [[1,1,1],[0,1,0]]];
function init() {
  const layers = ['L1', 'L2', 'L3'];
  layers.forEach((l, li) => {
    const row = document.getElementById(l);
    for(let s=0; s<3; s++) {
      const g = document.createElement('div'); g.className = 'mini-grid';
      for(let c=0; c<9; c++) {
        const cell = document.createElement('div'); cell.className = 'cell';
        const idx = (li * 27) + (s * 9) + c; cell.id = 'c-'+idx;
        row.appendChild(g); g.appendChild(cell); cells[idx] = cell;
      }
    }
  });
  refreshTray();
}
function ignite() {
  active = true; document.querySelector('.ignite-btn').style.display = 'none';
  audio = new (window.AudioContext || window.webkitAudioContext)();
  document.getElementById('log').innerText = "963 Hz RESONANCE: LOCKED | x31337_SYNC: ACTIVE";
}
function gasBurn() {
  if(!active) return;
  yieldVal *= 0.90; document.getElementById('yield').innerText = yieldVal.toFixed(4);
  document.getElementById('log').innerText = "GAS_BURN: 10% RECAPTURED | SHUFFLING TRAY...";
  refreshTray();
}
function refreshTray() {
  const t = document.getElementById('tray'); t.innerHTML = '';
  for(let i=0; i<3; i++) {
    const slot = document.createElement('div'); slot.className = 'piece-slot';
    const s = shapes[Math.floor(Math.random() * shapes.length)];
    const p = renderPiece(s, i); slot.appendChild(p); t.appendChild(slot);
  }
}
function renderPiece(s, idx) {
  const c = document.createElement('div'); c.style.display='grid';
  c.style.gridTemplateColumns=`repeat(${s[0].length}, 18px)`; c.style.gap='2px';
  s.forEach(r => r.forEach(v => {
    const d = document.createElement('div'); d.style.width='18px'; d.style.height='18px';
    if(v) d.className='cell filled'; else d.style.opacity='0';
    c.appendChild(d);
  }));
  if(idx !== -1) c.ontouchstart = (e) => startDrag(e, s, idx);
  return c;
}
function startDrag(e, s, idx) {
  if(!active) return; e.preventDefault();
  dragging = { s, idx, el: renderPiece(s, -1) };
  dragging.el.style.position='fixed'; dragging.el.style.zIndex='1000';
  dragging.el.style.pointerEvents='none'; document.body.appendChild(dragging.el);
  moveAt(e.touches[0]);
}
function moveAt(t) {
  if(!dragging) return;
  dragging.el.style.left = t.clientX - (dragging.el.offsetWidth/2) + 'px';
  dragging.el.style.top = (t.clientY - 135) + 'px'; // S25 FE OFFSET
}
document.addEventListener('touchmove', e => { if(dragging) { e.preventDefault(); moveAt(e.touches[0]); } }, {passive:false});
document.ontouchend = e => { if(dragging) { dragging.el.remove(); dragging = null; } };
</script>
</body>
</html>
