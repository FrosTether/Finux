<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finux.tech | The Frost Protocol</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.10.0/web3.min.js"></script>
    <style>
        :root {
            --frost-dark: #0a0f14;
            --frost-panel: #111a22;
            --frost-cyan: #00f2ff;
            --frost-blue: #0077be;
            --text-color: #e0f7fa;
        }
        body {
            background-color: var(--frost-dark);
            color: var(--text-color);
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 90%;
            max-width: 800px;
            margin-top: 50px;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid var(--frost-blue);
            padding-bottom: 20px;
        }
        h1 { color: var(--frost-cyan); text-shadow: 0 0 10px var(--frost-blue); }
        .panel {
            background: var(--frost-panel);
            border: 1px solid var(--frost-blue);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.1);
        }
        .btn {
            background: linear-gradient(45deg, var(--frost-blue), var(--frost-cyan));
            border: none;
            color: #000;
            padding: 10px 20px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            text-transform: uppercase;
            width: 100%;
            margin-top: 10px;
        }
        .btn:hover { box-shadow: 0 0 15px var(--frost-cyan); }
        .stat-row { display: flex; justify-content: space-between; margin: 10px 0; border-bottom: 1px solid #222; padding-bottom: 5px; }
        .hash { color: var(--frost-cyan); font-size: 0.8em; }
        #mining-visual { height: 10px; background: #333; margin-top: 15px; border-radius: 5px; overflow: hidden; }
        #mining-bar { height: 100%; width: 0%; background: var(--frost-cyan); transition: width 1s linear; }
        .blink { animation: blinker 1.5s linear infinite; color: red; }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>FINUX.TECH</h1>
            <p>Frost Operating System Ecosystem</p>
            <p style="font-size: 0.8em; color: #888;">Node Seed: 683050920</p>
        </header>

        <div class="panel" id="login-panel">
            <h3>ðŸ”’ Identity Access</h3>
            <p>Connect Web3 Wallet to initialize Frost Protocol.</p>
            <button class="btn" onclick="connectWallet()">Connect Wallet</button>
            <p id="wallet-status" style="margin-top: 10px; color: var(--frost-cyan);"></p>
        </div>

        <div class="panel" style="opacity: 0.5; pointer-events: none;" id="miner-panel">
            <h3>ðŸ’Ž Frost Crush II: Platinum Miner</h3>
            <div class="stat-row">
                <span>Target Node:</span>
                <span class="hash">voluntaryistj.base.eth</span>
            </div>
            <div class="stat-row">
                <span>Contract:</span>
                <span class="hash">0xdc15...8013 ($FROST)</span>
            </div>
            <div class="stat-row">
                <span>Mining Interval:</span>
                <span id="timer-display">150s</span>
            </div>
            <div class="stat-row">
                <span>Status:</span>
                <span id="mining-status">STANDBY</span>
            </div>
            
            <div id="mining-visual"><div id="mining-bar"></div></div>
            
            <button class="btn" onclick="startMining()">Initialize Mining Loop</button>
            <br><br>
            <div style="text-align: center;">
                <a href="#" style="color: var(--frost-cyan); text-decoration: none;">[ Download FrostCrush_v2.apk ]</a>
            </div>
        </div>

        <div class="panel">
            <h3>ðŸ‘¶ Grayson's Vault (Education Fund)</h3>
            <div class="stat-row">
                <span>Status:</span>
                <span style="color: #0f0;">ACTIVE</span>
            </div>
            <div class="stat-row">
                <span>Network:</span>
                <span>Base (L2)</span>
            </div>
            <p style="font-size: 0.8em; word-break: break-all; margin-top:10px;">
                Address: <span class="hash">0x[Linked_via_Family_Protocol]</span>
            </p>
            <button class="btn" style="background: #333; color: #fff;">View on Explorer</button>
        </div>
    </div>

    <script>
        let account = null;
        let miningInterval = 150; // 150 seconds
        let currentTimer = 150;
        let miningActive = false;

        async function connectWallet() {
            if (window.ethereum) {
                try {
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    account = accounts[0];
                    document.getElementById('wallet-status').innerText = "Connected: " + account.substring(0,6) + "..." + account.substring(38);
                    
                    // Unlock the Miner
                    const minerPanel = document.getElementById('miner-panel');
                    minerPanel.style.opacity = "1";
                    minerPanel.style.pointerEvents = "all";
                } catch (error) {
                    console.error("User denied account access");
                }
            } else {
                alert("Please install MetaMask or use the Frost OS Browser!");
            }
        }

        function startMining() {
            if (miningActive) return;
            miningActive = true;
            document.getElementById('mining-status').innerHTML = "<span class='blink'>MINING IN PROGRESS...</span>";
            
            const timerDisplay = document.getElementById('timer-display');
            const progressBar = document.getElementById('mining-bar');
            
            let width = 0;
            const step = 100 / miningInterval;

            const mineLoop = setInterval(() => {
                currentTimer--;
                width += step;
                
                timerDisplay.innerText = currentTimer + "s";
                progressBar.style.width = width + "%";

                if (currentTimer <= 0) {
                    // Payout Event
                    simulatePayout();
                    currentTimer = 150;
                    width = 0;
                }
            }, 1000);
        }

        function simulatePayout() {
            // In a real dApp, this would call the Contract.mint() function
            console.log(`[FrostProtocol] Block Mined. Reward sent to voluntaryistj.base.eth`);
            const status = document.getElementById('mining-status');
            const originalText = status.innerHTML;
            
            status.innerHTML = "<span style='color: #0f0;'>BLOCK FOUND! REWARD SENT</span>";
            setTimeout(() => {
                status.innerHTML = originalText;
            }, 3000);
        }
    </script>
</body>
</html>
